{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Mihai\\\\Desktop\\\\Projects\\\\GIT\\\\WolvesProject\\\\wolves-project\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _asyncToGenerator from\"C:\\\\Users\\\\Mihai\\\\Desktop\\\\Projects\\\\GIT\\\\WolvesProject\\\\wolves-project\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\Mihai\\\\Desktop\\\\Projects\\\\GIT\\\\WolvesProject\\\\wolves-project\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Mihai\\\\Desktop\\\\Projects\\\\GIT\\\\WolvesProject\\\\wolves-project\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";function withFetch(WrappedComponent,requestUrl){var WithFetch=function WithFetch(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isError=_useState6[0],setIsError=_useState6[1];useEffect(function(){if(requestUrl)fetchData(requestUrl);},[]);var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(requestUrl){var response,_data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);setIsError(false);_context.prev=2;_context.next=5;return fetch(requestUrl);case 5:response=_context.sent;if(!response.ok){_context.next=14;break;}_context.next=9;return response.json();case 9:_data=_context.sent;setIsLoading(false);setData(_data);_context.next=15;break;case 14:throw new Error('Fetch request error');case 15:_context.next=21;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](2);setIsLoading(false);setIsError(_context.t0);case 21:case\"end\":return _context.stop();}}},_callee,null,[[2,17]]);}));return function fetchData(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(WrappedComponent,_objectSpread(_objectSpread({data:data,isLoading:isLoading,isError:isError},props),{},{getData:function getData(requestUrl){return fetchData(requestUrl);}}));};return WithFetch;}export default withFetch;","map":{"version":3,"sources":["C:/Users/Mihai/Desktop/Projects/GIT/WolvesProject/wolves-project/src/components/container/withFetch.jsx"],"names":["React","useEffect","useState","withFetch","WrappedComponent","requestUrl","WithFetch","props","data","setData","isLoading","setIsLoading","isError","setIsError","fetchData","fetch","response","ok","json","Error"],"mappings":"6oBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,C,2CAEA,QAASC,CAAAA,SAAT,CAAmBC,gBAAnB,CAAqCC,UAArC,CAAiD,CAC/C,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAW,CAC3B,cAAwBL,QAAQ,CAAC,EAAD,CAAhC,wCAAOM,IAAP,eAAaC,OAAb,eACA,eAAkCP,QAAQ,CAAC,KAAD,CAA1C,yCAAOQ,SAAP,eAAkBC,YAAlB,eACA,eAA8BT,QAAQ,CAAC,KAAD,CAAtC,yCAAOU,OAAP,eAAgBC,UAAhB,eAEAZ,SAAS,CAAC,UAAM,CACd,GAAII,UAAJ,CAAgBS,SAAS,CAACT,UAAD,CAAT,CACjB,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMS,CAAAA,SAAS,0FAAG,iBAAOT,UAAP,qIAChBM,YAAY,CAAC,IAAD,CAAZ,CACAE,UAAU,CAAC,KAAD,CAAV,CAFgB,sCAKSE,CAAAA,KAAK,CAACV,UAAD,CALd,QAKRW,QALQ,mBAMVA,QAAQ,CAACC,EANC,gDAOOD,CAAAA,QAAQ,CAACE,IAAT,EAPP,QAONV,KAPM,eASZG,YAAY,CAAC,KAAD,CAAZ,CACAF,OAAO,CAACD,KAAD,CAAP,CAVY,oCAYN,IAAIW,CAAAA,KAAJ,CAAU,qBAAV,CAZM,0FAedR,YAAY,CAAC,KAAD,CAAZ,CACAE,UAAU,aAAV,CAhBc,qEAAH,kBAATC,CAAAA,SAAS,4CAAf,CAoBA,mBACE,KAAC,gBAAD,8BACE,IAAI,CAAEN,IADR,CAEE,SAAS,CAAEE,SAFb,CAGE,OAAO,CAAEE,OAHX,EAIML,KAJN,MAKE,OAAO,CAAE,iBAACF,UAAD,QAAgBS,CAAAA,SAAS,CAACT,UAAD,CAAzB,EALX,GADF,CASD,CAtCD,CAwCA,MAAOC,CAAAA,SAAP,CACD,CAED,cAAeH,CAAAA,SAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nfunction withFetch(WrappedComponent, requestUrl) {\r\n  const WithFetch = (props) => {\r\n    const [data, setData] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isError, setIsError] = useState(false);\r\n\r\n    useEffect(() => {\r\n      if (requestUrl) fetchData(requestUrl);\r\n    }, []);\r\n\r\n    const fetchData = async (requestUrl) => {\r\n      setIsLoading(true);\r\n      setIsError(false);\r\n\r\n      try {\r\n        const response = await fetch(requestUrl);\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n\r\n          setIsLoading(false);\r\n          setData(data);\r\n        } else {\r\n          throw new Error('Fetch request error');\r\n        }\r\n      } catch (err) {\r\n        setIsLoading(false);\r\n        setIsError(err);\r\n      }\r\n    };\r\n\r\n    return (\r\n      <WrappedComponent\r\n        data={data}\r\n        isLoading={isLoading}\r\n        isError={isError}\r\n        {...props}\r\n        getData={(requestUrl) => fetchData(requestUrl)}\r\n      />\r\n    );\r\n  };\r\n\r\n  return WithFetch;\r\n}\r\n\r\nexport default withFetch;\r\n"]},"metadata":{},"sourceType":"module"}